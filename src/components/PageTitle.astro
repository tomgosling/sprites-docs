---
import StarlightPageTitle from '@astrojs/starlight/components/PageTitle.astro';
import CopyPageButton from './CopyPageButton.astro';
import { ContentBreadcrumbs } from './react/Breadcrumbs';

const currentPath = Astro.url.pathname;
const sidebar = Astro.locals.starlightRoute?.sidebar ?? [];
---

<div class="page-nav-container">
	<ContentBreadcrumbs client:load currentPath={currentPath} sidebar={sidebar} />
	<div class="page-nav-actions">
		<CopyPageButton />
	</div>
</div>
<StarlightPageTitle />

<style>
	.page-nav-container {
		display: flex;
		justify-content: space-between;
		align-items: center;
		margin-bottom: 0.5rem;
	}
	.page-nav-actions {
		display: flex;
		align-items: center;
		gap: 0.5rem;
		margin-left: auto; /* Always push to right even if breadcrumbs are empty */
	}
</style>
